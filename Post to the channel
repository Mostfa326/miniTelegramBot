import telebot
from telebot import types

TOKEN = ""#توکن
CHANNEL_ID = -123  # آیدی عددی کانال (حتماً ربات باید ادمین باشه)

bot = telebot.TeleBot(TOKEN)

@bot.message_handler(commands=['start'])
def start(msg):
    bot.send_message(
        msg.chat.id,
        "سلام 👋\nمتنی که می‌خوای توی کانال ارسال بشه رو بفرست:"
    )

# وقتی کاربر متنی می‌فرسته
@bot.message_handler(func=lambda m: True)
def send_to_channel(msg):
    text = msg.text

    # ساخت دکمه شیشه‌ای زیر پست
    markup = types.InlineKeyboardMarkup()
    button = types.InlineKeyboardButton("تست", url="https://t.me/test")
    markup.add(button)

    # ارسال پیام و دکمه به کانال
    bot.send_message(
        CHANNEL_ID,
        text,
        reply_markup=markup,
        parse_mode="HTML"
    )

    # پاسخ به کاربر
    bot.send_message(msg.chat.id, "✅ پست با موفقیت در کانال ارسال شد!")

bot.infinity_polling()
# این ربات کارش اینه که پیام رو بهش بدی توی کانال می فرسته برات بعدش یک دکمه شیشه ای زیر پیام میزاره 
